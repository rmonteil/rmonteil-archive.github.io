<!doctype html><html lang="en"><head><script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-MPCVW6R",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="Welcome to my blog, this is like a nodepad for me, but I hope it can help someone, one day!"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"><title>Try coding without loops - Robin Monteil</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"><link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.grey-pink.min.css"><link rel="stylesheet" href="/assets/css/styles.css"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MPCVW6R" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="mdl-layout mdl-js-layout mdl-layout--fixed-header"><header class="mdl-layout__header mdl-layout__header--waterfall portfolio-header"><div class="mdl-layout__header-row portfolio-logo-row"><span class="mdl-layout__title"><div class="portfolio-logo"></div><span class="mdl-layout__title">Web development, domotic, space, and random geekeries...</span></span></div><div class="mdl-layout__header-row portfolio-navigation-row mdl-layout--large-screen-only"><nav class="mdl-navigation mdl-typography--body-1-force-preferred-font"><a class="mdl-navigation__link is-active" href="/index.html">Home</a><a class="mdl-navigation__link" href="/contact.html">Contact</a></nav></div></header><div class="mdl-layout__drawer mdl-layout--small-screen-only"><nav class="mdl-navigation mdl-typography--body-1-force-preferred-font"><a class="mdl-navigation__link is-active" href="./index.html">Home</a><a class="mdl-navigation__link" href="/contact.html">Contact</a></nav></div><main class="mdl-layout__content"><div class="mdl-grid portfolio-max-width"><div class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--4dp"><div class="mdl-card__title"><h2 class="mdl-card__title-text">Try coding without loops</h2></div><div class="mdl-grid portfolio-copy"><div class="publication-date">Published on 2018-12-15, last update on 2018-12-15</div><div class="mdl-cell mdl-cell--8-col mdl-card__supporting-text no-padding"><p>In a previous article, I wrote about how trying to solve coding challenges without using if-statements might help uncover better solutions. In this article, we will explore how to solve some more challenges, but this time without using any loops.</p><p>By loops, I mean imperative loops like <code>for</code>, <code>for...in</code>, <code>for...of</code>, <code>while</code>, and <code>do...while</code>. All of these are similar in the way that they provide an imperative way to perform iterations. The alternative is to perform iterations in a declarative way.</p></div><h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">Imperative vs Declarative</h3><div class="mdl-cell mdl-cell--8-col mdl-card__supporting-text no-padding"><p>This is a big topic. The simplest thing we can say about it is that:</p><ul><li>Imperative represents the HOW</li><li>Declarative represents the WHAT</li></ul><p><em>What? How? And why should you care?</em></p><p>An imperative approach represents a list of steps. Do this first, then do that, and after that do something else. For example: <em>Go over a list of numbers one by one and for every one add its value to a running sum.</em></p><p>A declarative approach represents what we have and what we need. For example: <em>We have a list of numbers and we need the sum of those numbers.</em></p><p>The imperative language is closer to the computers of today because they only know how to execute instructions. The declarative language is closer to how we think and command. Get it done please. Somehow!</p><p>The good news is computer languages have evolved to offer us declarative ways to do the needed imperative computer instructions. This article focuses on the declarative alternatives to imperative loops.</p><p>Note that coding does not have to be one way or the other. Any non-trivial computer program will most likely have a little bit of both approaches. Also, knowing how to code declaratively is great, but it does not mean that you do not need to learn the imperative ways as well. You should simply be confident using both.</p></div><h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">Immutability</h3><div class="mdl-cell mdl-cell--8-col mdl-card__supporting-text no-padding"><p>Avoiding loops is not just about being declarative. It also allows us to treat our data immutably.</p><p>Data immutability is another big topic, but the big picture is to not modify data in variables and instance properties in order to represent application state. Instead, the state is stored in phases between function calls. The functions call each other sequentially to evolve the original starting point into other forms of data. No variables are mutated in the process.</p><p>Instead of abusing state to perform simple operations, staying immutable is a lot safer and cleaner. However, the big benefit of immutability is how it makes the code easier to maintain and extend. For example, when we manage any application state in an immutable way, we can inspect the state at any moment, undo a state change, or even travel back in time to previous states to inspect the application with those. Since the state is not changed, we can always make the application remember the evolving phases of it.</p><p>Code readability and performance <em>might</em> take a hit when we do things in an immutable way. However, there are many strategies we can use to get the best of both worlds. More on this in future articles.</p></div><h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">Recursion</h3><div class="mdl-cell mdl-cell--8-col mdl-card__supporting-text no-padding"><p>Another way we can avoid using imperative loops is through recursion.</p><p>Recursion is simple. Have a function call itself (which creates a loop) and design an exit condition out of that loop. I am not sure recursion can be classified as declarative, but it is certainly an alternative to using vanilla imperative loops. However, be careful with recursion as it might not perform as well as normal loops. I also don’t think recursion offers good readability in most cases.</p><p>Sometimes recursion is naturally the easiest way to solve a challenge. Without recursion we would need to maintain and use our own Stack structure (but that is not too hard either).</p><hr><p>In all cases, it is always fun to try and solve a coding challenge without the use of any imperative loops.</p><p>Here are some example challenges with their loop-based solutions and loop-less solutions. All examples are in JavaScript.</p><p>Tell me which solutions you prefer and which ones you think are more or less readable.</p></div><h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">Challenge #1: Compute the sum of a list of numbers</h3><div class="mdl-cell mdl-cell--8-col mdl-card__supporting-text no-padding"><p>Let’s say we have an array of numbers and we need to compute the sum of these numbers.</p><p>Here is an example to test with:</p><pre><code class="language-js"><span class="hljs-keyword">const</span> arrayOfNumbers = [<span class="hljs-number">17</span>, <span class="hljs-number">-4</span>, <span class="hljs-number">3.2</span>, <span class="hljs-number">8.9</span>, <span class="hljs-number">-1.3</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.PI];
</code></pre><p>Here is a solution using a loop:</p><pre><code class="language-js"><span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;

arrayOfNumbers.forEach(<span class="hljs-function">(<span class="hljs-params">number</span>) =&gt;</span> {
  sum += number;
});

<span class="hljs-built_in">console</span>.log(sum);
</code></pre><p>Note how we had to mutate the <code>sum</code> variable to accomplish the solution.</p><p>Here is a solution using the excellent reduce function:</p><pre><code class="language-js"><span class="hljs-keyword">const</span> sum = arrayOfNumbers.reduce(<span class="hljs-function">(<span class="hljs-params">acc, number</span>) =&gt;</span>
  acc + number
);

<span class="hljs-built_in">console</span>.log(sum);
</code></pre><p>Nothing was mutated with the reduce-based solution. Instead, we made a bunch of calls to the callback function and the state was carried along between these calls until we arrived at our final <code>sum</code> state.</p><p>Here is the same challenge above solved with recursion:</p><pre><code class="language-js"><span class="hljs-keyword">const</span> sum = <span class="hljs-function">(<span class="hljs-params">[number, ...rest]</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (rest.length === <span class="hljs-number">0</span>) { 
    <span class="hljs-keyword">return</span> number;
  }
  <span class="hljs-keyword">return</span> number + sum(rest);
};

<span class="hljs-built_in">console</span>.log(sum(arrayOfNumbers))
</code></pre><p>The <code>sum</code> function calls itself and on every turn it uses the <em>rest</em> operator to reduce the array it is summing. It stops when that reduced array is empty. While you might think this is a clever solution, I do not think it is as readable as using a simple <code>reduce</code> call.</p></div></div></div></div><footer class="mdl-mini-footer"><div class="mdl-mini-footer__left-section"><div class="mdl-logo"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a>- Robin Monteil</div></div><div class="mdl-mini-footer__right-section"><ul class="mdl-mini-footer__link-list"><li><a href="./sitemap.xml">Plan du site</a></li></ul></div></footer></main></div><script src="https://code.getmdl.io/1.3.0/material.min.js"></script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/javascript.min.js"></script></body></html>